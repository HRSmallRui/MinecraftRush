[gd_scene load_steps=81 format=3 uid="uid://05u6aueicvo4"]

[ext_resource type="Script" path="res://Scripts/Classes/stage_class.gd" id="1_ofsr0"]
[ext_resource type="PackedScene" uid="uid://qb21t1op36gk" path="res://Scenes/Stages/audio_manager.tscn" id="2_f35mx"]
[ext_resource type="Script" path="res://Library/SummonConfigs/preload_config.gd" id="2_i07te"]
[ext_resource type="Script" path="res://Scripts/Stages/stage_camera.gd" id="2_m3y6a"]
[ext_resource type="Script" path="res://Scripts/StageComponents/mobile_middle_node.gd" id="3_b8apn"]
[ext_resource type="AudioStream" uid="uid://fy8ydmnyba0s" path="res://Assets/Sounds/Music/BossFight.mp3" id="3_o3kbd"]
[ext_resource type="Texture2D" uid="uid://cmcwqpp82dvp0" path="res://Assets/Images/UI/DataUIs/health.res" id="3_ocmui"]
[ext_resource type="Texture2D" uid="uid://1sy2mxykfc4a" path="res://Assets/Images/UI/DataUIs/money.res" id="4_b6gxb"]
[ext_resource type="FontFile" uid="uid://b0ev28ueo51cu" path="res://Assets/Fonts/5_Minecraft AE(支持中文).ttf" id="4_cx2tm"]
[ext_resource type="Texture2D" uid="uid://dek2nsm8le6t0" path="res://Assets/Images/UI/DataUIs/wave.res" id="6_2y4df"]
[ext_resource type="PackedScene" uid="uid://cxx03a6cdmthp" path="res://Scenes/Stages/information_bar.tscn" id="9_658rh"]
[ext_resource type="Texture2D" uid="uid://dpt6h7pg2h5wt" path="res://Assets/Images/UI/pause.png" id="10_25tig"]
[ext_resource type="Texture2D" uid="uid://l025oh6vvxnv" path="res://Assets/Images/UI/pause_hover.png" id="11_h735m"]
[ext_resource type="PackedScene" uid="uid://cxr6fiwxshcwh" path="res://Scenes/UI-Components/Stages/SkillButton/firerain_button.tscn" id="12_htgg1"]
[ext_resource type="Texture2D" uid="uid://dqbsxddjglehb" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0001.png" id="12_y18j4"]
[ext_resource type="PackedScene" uid="uid://bw7ybku6vpll0" path="res://Scenes/UI-Components/Stages/SkillButton/reinforce_button.tscn" id="13_lffg7"]
[ext_resource type="Texture2D" uid="uid://wafln55087yv" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0002.png" id="13_muv40"]
[ext_resource type="Texture2D" uid="uid://dmcwqrox3ieeu" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0003.png" id="14_wg38u"]
[ext_resource type="Texture2D" uid="uid://0kjcjynmrj3o" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0004.png" id="15_61tge"]
[ext_resource type="Texture2D" uid="uid://bip7t2plris08" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0005.png" id="16_73kkw"]
[ext_resource type="Texture2D" uid="uid://c1yjhauqib0yp" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0006.png" id="17_w30xg"]
[ext_resource type="Texture2D" uid="uid://bq63v4tyj1pn3" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0007.png" id="18_diqjr"]
[ext_resource type="Texture2D" uid="uid://4ycl5hv3mtqe" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0008.png" id="19_si1gm"]
[ext_resource type="Texture2D" uid="uid://d0lemqq1nv71s" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0009.png" id="20_ut2x0"]
[ext_resource type="Texture2D" uid="uid://pc00dblbj47p" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0010.png" id="21_m5df3"]
[ext_resource type="Texture2D" uid="uid://l1upk0qx3jpg" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0011.png" id="22_cochd"]
[ext_resource type="Texture2D" uid="uid://dfbih2xrqaeli" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0012.png" id="23_ixahv"]
[ext_resource type="Texture2D" uid="uid://b5qjs37ox5alk" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0013.png" id="24_onjw8"]
[ext_resource type="Texture2D" uid="uid://c0iw1cun3q013" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0014.png" id="25_2b4qr"]
[ext_resource type="Texture2D" uid="uid://d0hm04bt2c5lv" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0015.png" id="26_rq5pc"]
[ext_resource type="Texture2D" uid="uid://c5fsia60keuar" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0016.png" id="27_q77nq"]
[ext_resource type="Texture2D" uid="uid://2j6aku31j4te" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0017.png" id="28_dpalh"]
[ext_resource type="Texture2D" uid="uid://i06h60tmssam" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0018.png" id="29_5pk8p"]
[ext_resource type="Texture2D" uid="uid://bee0qgneb4f1g" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0019.png" id="30_vuye4"]
[ext_resource type="Texture2D" uid="uid://320s5l7kgkri" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0020.png" id="31_nayc4"]
[ext_resource type="Texture2D" uid="uid://bsflrprf813cb" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0021.png" id="32_nfbfw"]
[ext_resource type="Texture2D" uid="uid://bcnhfiknvlta0" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0022.png" id="33_gyowa"]
[ext_resource type="Texture2D" uid="uid://nc47rrnac0cd" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0023.png" id="34_4r1r1"]
[ext_resource type="Texture2D" uid="uid://danv5fmssnxrd" path="res://Assets/Images/UI/Cursors/UnitMove/UnitMove0024.png" id="35_rgh61"]
[ext_resource type="Script" path="res://Scripts/UI-Components/Stages/move_cursor.gd" id="36_bm8ch"]
[ext_resource type="Texture2D" uid="uid://cb7n0rp6m5v2t" path="res://Assets/Images/Stages/Flag.png" id="37_6x4ml"]
[ext_resource type="Script" path="res://Scripts/UI-Components/Stages/skill_cursor.gd" id="37_rurhv"]
[ext_resource type="Shader" uid="uid://bf3fwgwfo7b5i" path="res://Assets/Shaders/skill_cursor.tres" id="37_u8c4p"]
[ext_resource type="Texture2D" uid="uid://bvwfrbysjjdik" path="res://Assets/Images/UI/SkillButton/Firerain/firerain-canuse.png" id="41_hwc7g"]
[ext_resource type="Texture2D" uid="uid://dy04ulufgqnn3" path="res://Assets/Images/UI/SkillButton/selection.png" id="42_wvx6k"]
[ext_resource type="Texture2D" uid="uid://pe1sf035jhvg" path="res://Assets/Animations/StageComponents/保护点.png" id="43_2jp0x"]
[ext_resource type="PackedScene" uid="uid://bdf2cx7b8n5gw" path="res://Scenes/Effects/stop.tscn" id="44_hykv4"]
[ext_resource type="Script" path="res://Scripts/Stages/protection_point.gd" id="44_tqfro"]
[ext_resource type="Texture2D" uid="uid://dkcf7gw74qave" path="res://Assets/Images/UI/slide.png" id="49_pt8rh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eihwc"]
size = Vector2(1920, 1080)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7olro"]
bg_color = Color(0, 0, 0, 0.560784)
corner_radius_top_right = 16
corner_radius_bottom_right = 16

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qxtb8"]
bg_color = Color(0, 0, 0, 0.560784)
corner_radius_top_right = 16
corner_radius_bottom_right = 16

[sub_resource type="AtlasTexture" id="AtlasTexture_xb3py"]
atlas = ExtResource("10_25tig")
region = Rect2(16, 24, 96, 88)

[sub_resource type="Resource" id="Resource_qax6h"]
metadata/__load_path__ = "res://Assets/Images/UI/SkillButton/Firerain/firerain-canuse.png"

[sub_resource type="Resource" id="Resource_qneuu"]
metadata/__load_path__ = "res://Assets/Images/UI/SkillButton/Firerain/firerain-select.png"

[sub_resource type="Resource" id="Resource_87trf"]
metadata/__load_path__ = "res://Assets/Images/UI/SkillButton/Reinforce/reinforce_canuse.png"

[sub_resource type="Resource" id="Resource_s4115"]
metadata/__load_path__ = "res://Assets/Images/UI/SkillButton/Reinforce/reinforce_select.png"

[sub_resource type="SpriteFrames" id="SpriteFrames_5y8uj"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_y18j4")
}, {
"duration": 1.0,
"texture": ExtResource("13_muv40")
}, {
"duration": 1.0,
"texture": ExtResource("14_wg38u")
}, {
"duration": 1.0,
"texture": ExtResource("15_61tge")
}, {
"duration": 1.0,
"texture": ExtResource("16_73kkw")
}, {
"duration": 1.0,
"texture": ExtResource("17_w30xg")
}, {
"duration": 1.0,
"texture": ExtResource("18_diqjr")
}, {
"duration": 1.0,
"texture": ExtResource("19_si1gm")
}, {
"duration": 1.0,
"texture": ExtResource("20_ut2x0")
}, {
"duration": 1.0,
"texture": ExtResource("21_m5df3")
}, {
"duration": 1.0,
"texture": ExtResource("22_cochd")
}, {
"duration": 1.0,
"texture": ExtResource("23_ixahv")
}, {
"duration": 1.0,
"texture": ExtResource("24_onjw8")
}, {
"duration": 1.0,
"texture": ExtResource("25_2b4qr")
}, {
"duration": 1.0,
"texture": ExtResource("26_rq5pc")
}, {
"duration": 1.0,
"texture": ExtResource("27_q77nq")
}, {
"duration": 1.0,
"texture": ExtResource("28_dpalh")
}, {
"duration": 1.0,
"texture": ExtResource("29_5pk8p")
}, {
"duration": 1.0,
"texture": ExtResource("30_vuye4")
}, {
"duration": 1.0,
"texture": ExtResource("31_nayc4")
}, {
"duration": 1.0,
"texture": ExtResource("32_nfbfw")
}, {
"duration": 1.0,
"texture": ExtResource("33_gyowa")
}, {
"duration": 1.0,
"texture": ExtResource("34_4r1r1")
}, {
"duration": 1.0,
"texture": ExtResource("35_rgh61")
}],
"loop": true,
"name": &"default",
"speed": 24.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1xsfs"]
shader = ExtResource("37_u8c4p")

[sub_resource type="AtlasTexture" id="AtlasTexture_8qvj5"]
atlas = ExtResource("49_pt8rh")
region = Rect2(189, 42, 31, 51)

[sub_resource type="AtlasTexture" id="AtlasTexture_llct2"]
atlas = ExtResource("49_pt8rh")
region = Rect2(189, 42, 31, 51)

[sub_resource type="AtlasTexture" id="AtlasTexture_08uy1"]
atlas = ExtResource("49_pt8rh")
region = Rect2(259, 11, 63, 113)

[sub_resource type="Image" id="Image_po8nu"]
data = {
"data": PackedByteArray(255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 9, 255, 255, 255, 49, 255, 255, 255, 77, 255, 255, 255, 90, 255, 255, 255, 90, 255, 255, 255, 77, 255, 255, 255, 49, 255, 255, 255, 9, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 32, 255, 255, 255, 90, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 90, 255, 255, 255, 31, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 32, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 31, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 9, 255, 255, 255, 90, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 89, 255, 255, 255, 8, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 49, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 48, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 77, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 77, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 90, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 90, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 90, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 89, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 77, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 76, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 49, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 48, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 9, 255, 255, 255, 90, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 89, 255, 255, 255, 8, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 31, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 30, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 31, 255, 255, 255, 89, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 94, 255, 255, 255, 89, 255, 255, 255, 30, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 8, 255, 255, 255, 48, 255, 255, 255, 77, 255, 255, 255, 90, 255, 255, 255, 89, 255, 255, 255, 76, 255, 255, 255, 48, 255, 255, 255, 8, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0),
"format": "RGBA8",
"height": 16,
"mipmaps": false,
"width": 16
}

[sub_resource type="ImageTexture" id="ImageTexture_rb87d"]
image = SubResource("Image_po8nu")

[sub_resource type="AtlasTexture" id="AtlasTexture_dae3j"]
atlas = ExtResource("49_pt8rh")
region = Rect2(259, 11, 63, 113)

[sub_resource type="Image" id="Image_8dlpp"]
data = {
"data": PackedByteArray(255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 64, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0, 255, 255, 255, 0),
"format": "RGBA8",
"height": 4,
"mipmaps": false,
"width": 16
}

[sub_resource type="ImageTexture" id="ImageTexture_mj8xf"]
image = SubResource("Image_8dlpp")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4xev7"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(1, 1, 1, 0.4)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bil4q"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(1, 1, 1, 0.75)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_adtwf"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(0.1, 0.1, 0.1, 0.6)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="Theme" id="Theme_wv71b"]
HSlider/icons/grabber = SubResource("AtlasTexture_8qvj5")
HSlider/icons/grabber_highlight = SubResource("AtlasTexture_llct2")
VSlider/constants/center_grabber = 0
VSlider/constants/grabber_offset = 0
VSlider/icons/grabber = SubResource("AtlasTexture_08uy1")
VSlider/icons/grabber_disabled = SubResource("ImageTexture_rb87d")
VSlider/icons/grabber_highlight = SubResource("AtlasTexture_dae3j")
VSlider/icons/tick = SubResource("ImageTexture_mj8xf")
VSlider/styles/grabber_area = SubResource("StyleBoxFlat_4xev7")
VSlider/styles/grabber_area_highlight = SubResource("StyleBoxFlat_bil4q")
VSlider/styles/slider = SubResource("StyleBoxFlat_adtwf")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_8b5tv"]
bg_color = Color(0.0383972, 0.0383972, 0.0383971, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8
expand_margin_top = 10.0
expand_margin_bottom = 10.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7t2h2"]
bg_color = Color(1, 1, 1, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8
expand_margin_top = 10.0
expand_margin_bottom = 10.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_d2ccm"]
bg_color = Color(0.103744, 0.103744, 0.103744, 0.427451)
corner_radius_top_left = 16
corner_radius_top_right = 16
corner_radius_bottom_right = 16
corner_radius_bottom_left = 16

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_hilxh"]
bg_color = Color(0, 0, 0, 0.427451)
corner_radius_top_left = 16
corner_radius_top_right = 16
corner_radius_bottom_right = 16
corner_radius_bottom_left = 16

[sub_resource type="Animation" id="Animation_5uuwq"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1935, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../ZoomButton:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1830, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../ZoomButton:text")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["<"]
}

[sub_resource type="Animation" id="Animation_lyc8w"]
resource_name = "zoom_hide"
length = 0.5
step = 0.1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../ZoomButton:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1685, -0.25, 0, 0.25, 0, 1830, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1707, -0.25, 0, 0.25, 0, 1935, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../ZoomButton:text")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [">", "<"]
}

[sub_resource type="Animation" id="Animation_yla56"]
resource_name = "zoom_show"
length = 0.5
step = 0.1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1935, -0.25, 0, 0.25, 0, 1707, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../ZoomButton:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1830, -0.25, 0, 0.25, 0, 1685, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../ZoomButton:text")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": ["<", ">"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ybv54"]
_data = {
"RESET": SubResource("Animation_5uuwq"),
"zoom_hide": SubResource("Animation_lyc8w"),
"zoom_show": SubResource("Animation_yla56")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vyo5f"]
size = Vector2(1953, 1105)

[node name="StageClass" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_ofsr0")

[node name="EnemyScenePreloadConfig" type="Node" parent="."]
process_mode = 3
script = ExtResource("2_i07te")
chapter1_preload = true

[node name="MobileMiddleNode" type="Node" parent="."]
script = ExtResource("3_b8apn")

[node name="StageCamera" type="Camera2D" parent="." node_paths=PackedStringArray("move_limit_shape")]
position = Vector2(960, 540)
position_smoothing_enabled = true
position_smoothing_speed = 10.0
script = ExtResource("2_m3y6a")
move_limit_shape = NodePath("CollisionShape2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StageCamera"]
top_level = true
position = Vector2(960, 540)
shape = SubResource("RectangleShape2D_eihwc")
debug_color = Color(0, 0.6, 0.701961, 0)

[node name="AudioManager" parent="." instance=ExtResource("2_f35mx")]

[node name="Musics" type="Node" parent="."]
process_mode = 3

[node name="PreparationMusic" type="AudioStreamPlayer" parent="Musics"]
autoplay = true
bus = &"Music"

[node name="BattleMusic" type="AudioStreamPlayer" parent="Musics"]
bus = &"Music"

[node name="BossMusic" type="AudioStreamPlayer" parent="Musics"]
stream = ExtResource("3_o3kbd")
bus = &"Music"

[node name="Background" type="Node2D" parent="."]
y_sort_enabled = true

[node name="BasedSprite" type="Sprite2D" parent="Background"]
z_index = -1
centered = false

[node name="ProtectionPoint" type="Sprite2D" parent="Background/BasedSprite"]
position = Vector2(310, 723)
texture = ExtResource("43_2jp0x")
script = ExtResource("44_tqfro")

[node name="Flag" type="Sprite2D" parent="Background"]
position = Vector2(332, 467)
texture = ExtResource("37_6x4ml")
offset = Vector2(-7, -22)
region_enabled = true
region_rect = Rect2(40, 38, 40, 73)

[node name="Stop" parent="." instance=ExtResource("44_hykv4")]
position = Vector2(725, 649)

[node name="StageNavigationRegion" type="NavigationRegion2D" parent="."]

[node name="FirerainRandomRegions" type="Node2D" parent="."]

[node name="FirerainRandomRegion" type="NavigationRegion2D" parent="FirerainRandomRegions"]
use_edge_connections = false
navigation_layers = 2

[node name="Enemies" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Allys" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Towers" type="Node2D" parent="."]
y_sort_enabled = true

[node name="StageUI" type="CanvasLayer" parent="."]
layer = 10

[node name="PlayerStatus" type="VBoxContainer" parent="StageUI"]
offset_left = 43.0
offset_top = 20.0
offset_right = 447.0
offset_bottom = 169.0
scale = Vector2(0.573725, 0.573725)
mouse_filter = 2
theme_override_constants/separation = 25

[node name="HBoxContainer" type="HBoxContainer" parent="StageUI/PlayerStatus"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/separation = 100

[node name="Health" type="PanelContainer" parent="StageUI/PlayerStatus/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_7olro")

[node name="HBoxContainer" type="HBoxContainer" parent="StageUI/PlayerStatus/HBoxContainer/Health"]
layout_mode = 2
mouse_filter = 2

[node name="MarginContainer2" type="MarginContainer" parent="StageUI/PlayerStatus/HBoxContainer/Health/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = -30

[node name="Control" type="Control" parent="StageUI/PlayerStatus/HBoxContainer/Health/HBoxContainer/MarginContainer2"]
layout_mode = 2
mouse_filter = 2

[node name="TextureRect" type="TextureRect" parent="StageUI/PlayerStatus/HBoxContainer/Health/HBoxContainer/MarginContainer2/Control"]
layout_mode = 0
offset_left = -5.0
offset_top = -10.0
offset_right = 54.0
offset_bottom = 49.0
scale = Vector2(1.30418, 1.30418)
mouse_filter = 2
texture = ExtResource("3_ocmui")

[node name="MarginContainer" type="MarginContainer" parent="StageUI/PlayerStatus/HBoxContainer/Health/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = 45
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 35
theme_override_constants/margin_bottom = 15

[node name="HealthLabel" type="Label" parent="StageUI/PlayerStatus/HBoxContainer/Health/HBoxContainer/MarginContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_cx2tm")
theme_override_font_sizes/font_size = 32
text = "20"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Money" type="PanelContainer" parent="StageUI/PlayerStatus/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qxtb8")

[node name="HBoxContainer" type="HBoxContainer" parent="StageUI/PlayerStatus/HBoxContainer/Money"]
layout_mode = 2
mouse_filter = 2

[node name="MarginContainer2" type="MarginContainer" parent="StageUI/PlayerStatus/HBoxContainer/Money/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = -30

[node name="Control" type="Control" parent="StageUI/PlayerStatus/HBoxContainer/Money/HBoxContainer/MarginContainer2"]
layout_mode = 2
mouse_filter = 2

[node name="TextureRect" type="TextureRect" parent="StageUI/PlayerStatus/HBoxContainer/Money/HBoxContainer/MarginContainer2/Control"]
layout_mode = 0
offset_left = -5.0
offset_top = -10.0
offset_right = 54.0
offset_bottom = 49.0
scale = Vector2(1.30418, 1.30418)
mouse_filter = 2
texture = ExtResource("4_b6gxb")

[node name="MarginContainer" type="MarginContainer" parent="StageUI/PlayerStatus/HBoxContainer/Money/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = 60
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 60
theme_override_constants/margin_bottom = 15

[node name="MoneyLabel" type="Label" parent="StageUI/PlayerStatus/HBoxContainer/Money/HBoxContainer/MarginContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_cx2tm")
theme_override_font_sizes/font_size = 32
text = "20"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Wave" type="PanelContainer" parent="StageUI/PlayerStatus"]
layout_mode = 2
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qxtb8")

[node name="HBoxContainer" type="HBoxContainer" parent="StageUI/PlayerStatus/Wave"]
custom_minimum_size = Vector2(340, 0)
layout_mode = 2
mouse_filter = 2

[node name="MarginContainer2" type="MarginContainer" parent="StageUI/PlayerStatus/Wave/HBoxContainer"]
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = -30

[node name="Control" type="Control" parent="StageUI/PlayerStatus/Wave/HBoxContainer/MarginContainer2"]
layout_mode = 2
mouse_filter = 2

[node name="TextureRect" type="TextureRect" parent="StageUI/PlayerStatus/Wave/HBoxContainer/MarginContainer2/Control"]
layout_mode = 0
offset_left = -1.0
offset_top = -10.0
offset_right = 58.0
offset_bottom = 49.0
scale = Vector2(1.30418, 1.30418)
mouse_filter = 2
texture = ExtResource("6_2y4df")

[node name="MarginContainer" type="MarginContainer" parent="StageUI/PlayerStatus/Wave/HBoxContainer"]
custom_minimum_size = Vector2(320, 0)
layout_mode = 2
mouse_filter = 2
theme_override_constants/margin_left = 45
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 35
theme_override_constants/margin_bottom = 40

[node name="LableMarker" type="Marker2D" parent="StageUI/PlayerStatus"]
position = Vector2(-13.944, 88.8928)
scale = Vector2(1.33463, 1.33463)

[node name="WaveLabel" type="Label" parent="StageUI"]
custom_minimum_size = Vector2(320, 0)
offset_left = 35.0
offset_top = 71.0
offset_right = 355.0
offset_bottom = 109.0
scale = Vector2(0.765708, 0.765708)
theme_override_fonts/font = ExtResource("4_cx2tm")
theme_override_font_sizes/font_size = 24
text = "波次： 0 / 8"
horizontal_alignment = 1
vertical_alignment = 1

[node name="InformationBar" parent="StageUI" instance=ExtResource("9_658rh")]
scale = Vector2(0.8, 0.8)

[node name="PauseButton" type="TextureButton" parent="StageUI"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -115.0
offset_top = 16.0
offset_right = -19.0
offset_bottom = 104.0
grow_horizontal = 0
pivot_offset = Vector2(96, 0)
focus_mode = 0
texture_normal = SubResource("AtlasTexture_xb3py")
texture_pressed = SubResource("AtlasTexture_xb3py")
texture_hover = ExtResource("11_h735m")
stretch_mode = 3

[node name="TipsContainer" type="VBoxContainer" parent="StageUI"]
offset_left = 129.0
offset_top = 176.0
offset_right = 169.0
offset_bottom = 216.0
theme_override_constants/separation = 85

[node name="SkillButtonContainer" type="HBoxContainer" parent="StageUI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 227.0
offset_top = -81.0
offset_right = 227.0
offset_bottom = -81.0
grow_vertical = 0
scale = Vector2(0.602909, 0.602909)
theme_override_constants/separation = 190

[node name="FirerainButton" parent="StageUI/SkillButtonContainer" instance=ExtResource("12_htgg1")]
layout_mode = 2
texture_normal = SubResource("Resource_qax6h")
texture_select = SubResource("Resource_qneuu")

[node name="ReinforceButton" parent="StageUI/SkillButtonContainer" instance=ExtResource("13_lffg7")]
layout_mode = 2
texture_normal = SubResource("Resource_87trf")
texture_select = SubResource("Resource_s4115")

[node name="MoveCursor" type="AnimatedSprite2D" parent="StageUI"]
visible = false
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_5y8uj")
autoplay = "default"
frame_progress = 0.831277
script = ExtResource("36_bm8ch")

[node name="SkillCursor" type="AnimatedSprite2D" parent="StageUI"]
visible = false
material = SubResource("ShaderMaterial_1xsfs")
position = Vector2(621, 575)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_5y8uj")
autoplay = "default"
frame_progress = 0.831277
script = ExtResource("37_rurhv")

[node name="SkillTexture" type="Sprite2D" parent="StageUI/SkillCursor"]
position = Vector2(0, -94)
scale = Vector2(0.486167, 0.486167)
texture = ExtResource("41_hwc7g")

[node name="Selection" type="Sprite2D" parent="StageUI/SkillCursor"]
position = Vector2(0, -32)
scale = Vector2(0.513811, 0.513811)
texture = ExtResource("42_wvx6k")

[node name="ZoomSlider" type="HSlider" parent="StageUI"]
offset_left = 1935.0
offset_top = 844.0
offset_right = 2368.0
offset_bottom = 992.0
rotation = -1.5708
scale = Vector2(1.58273, 1.58273)
focus_mode = 0
theme = SubResource("Theme_wv71b")
theme_override_styles/slider = SubResource("StyleBoxFlat_8b5tv")
theme_override_styles/grabber_area = SubResource("StyleBoxFlat_7t2h2")
theme_override_styles/grabber_area_highlight = SubResource("StyleBoxFlat_7t2h2")
max_value = 1.0
step = 0.0

[node name="ZoomButton" type="Button" parent="StageUI"]
offset_left = 1830.0
offset_top = 416.0
offset_right = 1917.0
offset_bottom = 657.0
focus_mode = 0
theme_override_font_sizes/font_size = 72
theme_override_styles/hover = SubResource("StyleBoxFlat_d2ccm")
theme_override_styles/pressed = SubResource("StyleBoxFlat_hilxh")
theme_override_styles/normal = SubResource("StyleBoxFlat_hilxh")
text = "<"

[node name="ZoomAnimationPlayer" type="AnimationPlayer" parent="StageUI"]
root_node = NodePath("../ZoomSlider")
libraries = {
"": SubResource("AnimationLibrary_ybv54")
}

[node name="DragLabel" type="Label" parent="StageUI"]
visible = false
offset_left = 29.0
offset_top = 237.0
offset_right = 522.0
offset_bottom = 663.0
text = "111111111111111"
autowrap_mode = 3

[node name="SaveButton" type="Button" parent="StageUI"]
offset_left = 1712.0
offset_top = 233.0
offset_right = 1755.0
offset_bottom = 264.0
scale = Vector2(3.77588, 3.77588)
focus_mode = 0
text = "save"

[node name="LoadButton" type="Button" parent="StageUI"]
offset_left = 1712.0
offset_top = 654.0
offset_right = 1755.0
offset_bottom = 685.0
scale = Vector2(3.77588, 3.77588)
focus_mode = 0
text = "load"

[node name="ClickArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="ClickArea"]
position = Vector2(966.5, 542.5)
shape = SubResource("RectangleShape2D_vyo5f")
debug_color = Color(0, 0.6, 0.701961, 0)

[node name="WaveButtons" type="Control" parent="."]
z_index = 500
layout_mode = 3
anchors_preset = 0

[node name="PathArea" type="Area2D" parent="."]
process_mode = 3
collision_mask = 0

[node name="WaveDuringTimer" type="Timer" parent="."]
one_shot = true

[node name="WaveNextTimer" type="Timer" parent="."]
one_shot = true

[node name="Bullets" type="Node2D" parent="."]
y_sort_enabled = true

[node name="HeroSummonMarker" type="Marker2D" parent="."]

[node name="BlackColor" type="CanvasLayer" parent="."]
layer = -1

[node name="ColorRect" type="ColorRect" parent="BlackColor"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[connection signal="wave_appear" from="." to="." method="_on_wave_appear"]
[connection signal="wave_summon" from="." to="." method="_on_wave_summon"]
[connection signal="pressed" from="StageUI/PauseButton" to="." method="_on_pause_button_pressed"]
[connection signal="value_changed" from="StageUI/ZoomSlider" to="StageCamera" method="_on_zoom_slider_value_changed"]
[connection signal="pressed" from="StageUI/ZoomButton" to="." method="_on_zoom_button_pressed"]
[connection signal="pressed" from="StageUI/SaveButton" to="." method="_on_save_button_pressed"]
[connection signal="pressed" from="StageUI/LoadButton" to="." method="_on_load_button_pressed"]
[connection signal="input_event" from="ClickArea" to="." method="_on_click_area_input_event"]
[connection signal="mouse_entered" from="PathArea" to="." method="_on_path_area_mouse_entered"]
[connection signal="mouse_exited" from="PathArea" to="." method="_on_path_area_mouse_exited"]
[connection signal="timeout" from="WaveDuringTimer" to="." method="_on_wave_during_timer_timeout"]
